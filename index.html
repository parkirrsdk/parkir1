<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Shift App</title>
  <link rel="stylesheet" href="style-index.css">
</head>
<body>
  <div class="dashboard-container">
    <h1 class="fade-in">Dashboard Shift App</h1>
    <p id="welcome" class="slide-down"></p>
    <button onclick="logout()" class="btn-logout">Logout</button>
    <hr>
    <div id="menu" class="menu-grid fade-in"></div>
  </div>

  <script>
    const currentUser = JSON.parse(localStorage.getItem("currentUser") || "null");
    if (!currentUser) {
      window.location.href = "login.html"; // redirect kalau belum login
    }

    document.getElementById("welcome").innerText = 
      `Selamat datang, ${currentUser.username} [${currentUser.role}]`;

    function logout() {
      localStorage.removeItem("currentUser");
      window.location.href = "login.html";
    }

    // Tampilkan menu sesuai role
    const role = currentUser.role;
    const menu = document.getElementById("menu");

    if (role === "IT" || role === "CPM" || role === "Superuser") {
      menu.innerHTML = `
        <a href="form.html" class="menu-card">📝 Input Form Tukar Shift/Off</a>
		<a href="form-lembur.html" class="menu-card">📝 Input Form Lembur</a>
		<a href="form-ganti-hari.html" class="menu-card">📝 Input Form Ganti Hari</a>
        <a href="list-approve.html" class="menu-card">✅ List Approve Tukar Shift/Off</a>
		<a href="list-approve-lembur.html" class="menu-card">✅ List Approve Melemburkan</a>
		<a href="list-approve-ganti-hari.html" class="menu-card">✅ List Approve Ganti Hari /Off</a>
        <a href="list-data.html" class="menu-card">📊 List Data Tukar Shif/Off</a>
		<a href="list-data-ganti-hari.html" class="menu-card">📊 List Data Ganti hari</a>
		<a href="list-data-lembur.html" class="menu-card">📊 List Data Melemburkan</a>
        <a href="download.html" class="menu-card">⬇️ Download Excel</a>
      `;
    }

    if (role === "Admin") {
      menu.innerHTML = `
        <a href="form.html" class="menu-card">📝 Input Form Tukar Shift/Off</a>
		<a href="form-lembur.html" class="menu-card">📝 Input Form Lembur</a>
		<a href="form-ganti-hari.html" class="menu-card">📝 Input Form Ganti Hari</a>
        <a href="list-data.html" class="menu-card">📊 List Data Tukar Shif/Off</a>
		<a href="list-data-ganti-hari.html" class="menu-card">📊 List Data Ganti hari</a>
		<a href="list-data-lembur.html" class="menu-card">📊 List Data Melemburkan</a>
		<a href="download.html" class="menu-card">⬇️ Download Excel</a>
		<a href="list-approve-ganti-hari.html" class="menu-card">✅ List Approve Ganti Hari /Off</a>
      `;
    }

    if (role === "Leader") {
      menu.innerHTML = `
        <a href="form.html" class="menu-card">📝 Input Form Tukar Shift/Off</a>
		<a href="form-lembur.html" class="menu-card">📝 Input Form Lembur</a>
		<a href="form-ganti-hari.html" class="menu-card">📝 Input Form Ganti Hari</a>
        <a href="list-data.html" class="menu-card">📊 List Data Tukar Shif/Off</a>
		<a href="list-data-ganti-hari.html" class="menu-card">📊 List Data Ganti hari</a>
		<a href="list-data-lembur.html" class="menu-card">📊 List Data Melemburkan</a>
        <a href="list-approve.html" class="menu-card">✅ List Approve Tukar Shift/Off</a>
		<a href="list-approve-lembur.html" class="menu-card">✅ List Approve Melemburkan</a>
		<a href="list-approve-ganti-hari.html" class="menu-card">✅ List Approve Ganti Hari /Off</a>
      `;
    }

    if (role === "Attendance") {
      menu.innerHTML = `
        <a href="form.html" class="menu-card">📝 Input Form Tukar Shift/Off</a>
		<a href="form-lembur.html" class="menu-card">📝 Input Form Lembur</a>
		<a href="form-ganti-hari.html" class="menu-card">📝 Input Form Ganti Hari</a>
        <a href="list-data.html" class="menu-card">📊 List Data Tukar Shif/Off</a>
		<a href="list-data-ganti-hari.html" class="menu-card">📊 List Data Ganti hari</a>
		<a href="list-data-lembur.html" class="menu-card">📊 List Data Melemburkan</a>
      `;
    }
  </script>
</body>
</html>
